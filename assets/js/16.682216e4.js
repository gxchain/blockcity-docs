(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{187:function(t,s,a){"use strict";a.r(s);var e=a(0),n=Object(e.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),a("p",[t._v("开发者可以通过国际标准的OAuth2.0授权机制，在用户授权的情况下，得到用于换取用户信息的令牌。在拿到用户的授权令牌后，获取用户允许授权访问的数据内容。目前暂时只开放布洛克城用户基本信息接口，之后将会集成开发链上GID数据的本地DataKey解密并授权。")]),t._v(" "),t._m(3),t._v(" "),a("p",[t._v("BlockPay支付")]),t._v(" "),t._m(4),t._v(" "),a("p",[t._v("开发者除了可以拿到布洛克用户唯一编号（uuid）进行免登处理，还能获取更多的信息，包括昵称，居民号、是否是创世居民、注册时间、是否通过二要素实名认证、是否通过KYC实名认证、布洛克城头像。\n此种场景，用户在操作过程中，会出现弹框界面（如下图）让用户确认是否授权。")]),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),a("p",[t._v("小应用开发者均可使用。")]),t._v(" "),t._m(7),t._v(" "),a("p",[t._v("暂不收费")]),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),a("p",[t._v("登录布洛克城开放平台，进入小应用列表，点击详情分别获取获取沙箱环境和正式环境的AppID和AppSecret。")]),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),a("p",[t._v("对于需要用户授权的小应用，每当用户进入小应用时，需要先判断当前用户的登录状态，决定是否需要对当前用户进行GID授权。")]),t._v(" "),t._m(17),t._v(" "),a("p",[t._v("当小应用需要授权时，小应用client控制页面访问布洛克城授权页面：")]),t._v(" "),t._m(18),a("p",[t._v("参数说明：")]),t._v(" "),t._m(19),t._v(" "),a("p",[t._v("获取授权code：")]),t._v(" "),a("p",[t._v("当用户点击确认授权后，网页会重定向到回调地址，应用从回调地址中获取code。回调请求如下：")]),t._v(" "),t._m(20),t._m(21),t._v(" "),a("ul",[a("li",[a("p",[t._v("开发者可通过获取到的授权code换取access_token，授权code作为换取access_token的票据，每次用户授权完成，回调地址中的授权code将不一样，授权code只能使用一次，一天未被使用自动过期。具体可参见文档"),a("router-link",{attrs:{to:"./api.html#获取令牌api"}},[t._v("获取令牌API")]),t._v("。")],1)]),t._v(" "),a("li",[a("p",[t._v("每个access_token目前有效期为30天，可调用refresh接口刷新时长，再次刷新有效期为30天，只能刷新一次。具体可参见文档"),a("router-link",{attrs:{to:"./api.html#刷新令牌api"}},[t._v("刷新令牌API")]),t._v("。")],1)])]),t._v(" "),t._m(22),t._v(" "),a("ul",[a("li",[t._v("获取access_token后为了防止API调用过程中被黑客恶意篡改，调用任何一个API都需要携带签名，服务端会根据请求参数，对签名进行验证，签名不合法的请求将会被拒绝。根据实际授权范围，选择对应的数据API进行访问获取GID相关信息，比如"),a("router-link",{attrs:{to:"./api.html#user-baseinfo（用户基本信息api）"}},[t._v("用户基本信息API")]),t._v("。")],1)]),t._v(" "),t._m(23),t._v(" "),t._m(24),t._v(" "),t._m(25),t._v(" "),a("table",[t._m(26),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("router-link",{attrs:{to:"./api.html#user-baseinfo（用户基本信息api）"}},[t._v("用户基本信息API")])],1),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("小应用服务端获取用户基本信息")])])])]),t._v(" "),a("blockquote",[a("p",[a("font",{attrs:{size:"2"}},[a("em",[t._v("其他数据接口将陆续开放。")])])],1)]),t._v(" "),t._m(27),t._v(" "),a("ul",[a("li",[t._v("涉及到敏感信息如真实姓名、手机号、证件号等，这些敏感信息不会返回。")]),t._v(" "),a("li",[t._v("上链数据授权会陆续开放，同样遵循GID授权流程。")]),t._v(" "),a("li",[a("router-link",{attrs:{to:"./api.html#获取令牌api"}},[t._v("令牌签名")])],1)]),t._v(" "),t._m(28),t._v(" "),t._m(29),t._v(" "),a("p",[t._v("BlockPay支付是一个基于布洛克城账户，资金，支付体系，支持包括GXS，BTC，ETH等主流虚拟货币的全币种支付手段。能帮助小应用开发者完成支付，转账，退款，对账等一列表操作。")]),t._v(" "),t._m(30),t._v(" "),a("p",[t._v("步骤1：用户在小应用中选择商品下单、确认购买，进入支付环节，用户点击确认支付；")]),t._v(" "),t._m(31),t._v(" "),a("p",[t._v("步骤2：进入到布洛克城页面，调起BlockPay支付，出现确认支付界面；")]),t._v(" "),t._m(32),t._v(" "),a("p",[t._v("步骤3：用户确认收款方和金额，点击立即支付后出现输入密码界面；")]),t._v(" "),t._m(33),t._v(" "),a("p",[t._v("步骤4：输入正确密码后，BlockPay端显示支付结果；")]),t._v(" "),t._m(34),t._v(" "),a("p",[t._v("步骤5：自动回跳到小应用中。")]),t._v(" "),t._m(35),t._v(" "),a("p",[t._v("该产品使用者需要实名开发者，且个人开发者有日收款限额。")]),t._v(" "),t._m(36),t._v(" "),a("p",[t._v("暂不收费")]),t._v(" "),t._m(37),t._v(" "),t._m(38),t._v(" "),t._m(39),t._v(" "),a("p",[t._v("登录布洛克城开放平台，进入小应用列表，点击详情分别获取获取沙箱环境和正式环境的AppID和AppSecret。")]),t._v(" "),t._m(40),t._v(" "),t._m(41),t._v(" "),a("p",[t._v("开发者需创建一对RSA公私钥，公钥上传给布洛克城开放平台，在小应用服务端用私钥加密签名生成sign，作为支付接口必要请求参数。生成公私钥对可使用"),a("a",{attrs:{href:"http://web.chacuo.net/netrsakeypair",target:"_blank",rel:"noopener noreferrer"}},[t._v("RSA生成工具"),a("OutboundLink")],1),t._v("，设置密钥位数为2048位，秘钥格式为PKCS#8,证书密码不用设置")]),t._v(" "),t._m(42),t._v(" "),a("p",[t._v("上传公钥格式，不要带上“-----BEGIN PUBLIC KEY-----”和“-----END PUBLIC KEY-----”")]),t._v(" "),t._m(43),t._m(44),t._v(" "),t._m(45),t._v(" "),a("p",[t._v("通过 "),a("a",{attrs:{href:"https://unpkg.com/blockcity-js-sdk/",target:"_blank",rel:"noopener noreferrer"}},[t._v("unpkg.com/blockcity-js-sdk"),a("OutboundLink")],1),t._v(" 可以看到 Blockcity JS-SDK 最新版本的资源，也可以切换版本选择需要的资源，在页面上引入 js 文件即可开始使用：")]),t._v(" "),t._m(46),t._m(47),t._v(" "),a("p",[t._v("推荐使用 npm 来安装，享受生态圈和工具带来的便利，更好地和 webpack 配合使用。")]),t._v(" "),t._m(48),a("p",[t._v("npm使用")]),t._v(" "),t._m(49),t._m(50),t._v(" "),t._m(51),t._v(" "),t._m(52),t._v(" "),t._m(53),t._v(" "),t._m(54),t._v(" "),a("p",[t._v("用户在小应用客户端触发支付流程。")]),t._v(" "),t._m(55),t._v(" "),a("p",[t._v("在小应用服务端把生成相关的支付信息，调用"),a("router-link",{attrs:{to:"./api.html#blockpay-trade-app-pay（预创建支付api）"}},[t._v("预创建支付接口 ")]),t._v(", 获取trade_no。")],1),t._v(" "),t._m(56),t._v(" "),a("p",[t._v("小应用使用trade_no，唤起布洛克城BlockPay收银台。用户输入密码进行支付，支持成功，失败，取消都会有对应的js回调，小应用客户端可以分别对这些操作做出响应。在支付完成（成功或取消）后，收银台会隐藏页面并返回之前唤起收银台的页面。")]),t._v(" "),t._m(57),a("blockquote",[a("p",[a("font",{attrs:{size:"2"}},[t._v("小应用需要先引入Blockcity JS-SDK")])],1)]),t._v(" "),t._m(58),t._v(" "),a("p",[t._v("用户支付成功后，小应用服务端会收到来自布洛克城的支付结果回调，回调地址为调用"),a("router-link",{attrs:{to:"./api.html#blockpay-trade-app-pay（预创建支付api）"}},[t._v("预创建支付接口")]),t._v(" 时，指定的notify_url，回调接口请求方式为 JSON POST BODY。")],1),t._v(" "),t._m(59),t._v(" "),t._m(60),t._v(" "),t._m(61),t._v(" "),t._m(62),t._m(63),t._v(" "),a("p",[a("a",{attrs:{href:"http://gxb-doc.oss-cn-hangzhou.aliyuncs.com/blockpay/paydemo.zip",target:"_blank",rel:"noopener noreferrer"}},[t._v("JAVA代码示例下载"),a("OutboundLink")],1)]),t._v(" "),t._m(64),t._v(" "),a("p",[t._v("在签名校验成功后，请严格校验：1.appId是否为改商户本身，2.outTradeNo为商户系统中创建的订单号，3.tradeNo能与outTradeNo对应。上述有任何一个验证不通过，则表明本次通知是异常通知")]),t._v(" "),t._m(65),t._v(" "),t._m(66),t._m(67),t._v(" "),t._m(68),t._m(69),t._v(" "),a("table",[t._m(70),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("router-link",{attrs:{to:"./api.html#预创建支付"}},[t._v("预创建支付API")])],1),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("预先创建支付订单接口")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("router-link",{attrs:{to:"./api.html#查询交易"}},[t._v("查询交易API")])],1),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("交易状态主动查询接口")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("router-link",{attrs:{to:"./api.html#退款接口"}},[t._v("退款接口API")])],1),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("发起交易退款接口")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("router-link",{attrs:{to:"./api.html#查询退款"}},[t._v("查询退款API")])],1),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("交易退款状态查询接口")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("router-link",{attrs:{to:"./api.html#关闭交易"}},[t._v("关闭交易API")])],1),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("关闭指定的支付订单接口")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("router-link",{attrs:{to:"./api.html#支持支付币种"}},[t._v("支持支付币种API")])],1),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("拉取支持的所有支付币种接口")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("router-link",{attrs:{to:"./api.html#转账ap"}},[t._v("转账API")])],1),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("商户对用户进行直接转账的接口")])])])]),t._v(" "),t._m(71),t._v(" "),a("ul",[a("li",[a("router-link",{attrs:{to:"./api.html#支付签名"}},[t._v("支付接口签名")])],1)]),t._v(" "),t._m(72),t._v(" "),t._m(73),t._v(" "),a("p",[t._v("为开发者提供一键关闭本小应用的能力。")]),t._v(" "),t._m(74),t._v(" "),a("p",[t._v("引入JS-SDK，直接调用即可")]),t._v(" "),t._m(75),t._v(" "),a("p",[t._v("无")]),t._v(" "),t._m(76),t._v(" "),t._m(77),t._v(" "),t._m(78),t._v(" "),a("p",[t._v("通过 "),a("a",{attrs:{href:"https://unpkg.com/blockcity-js-sdk/",target:"_blank",rel:"noopener noreferrer"}},[t._v("unpkg.com/blockcity-js-sdk"),a("OutboundLink")],1),t._v(" 可以看到 Blockcity JS-SDK 最新版本的资源，也可以切换版本选择需要的资源，在页面上引入 js 文件即可开始使用：")]),t._v(" "),t._m(79),t._m(80),t._v(" "),a("p",[t._v("推荐使用 npm 来安装，享受生态圈和工具带来的便利，更好地和 webpack 配合使用。")]),t._v(" "),t._m(81),a("p",[t._v("npm使用")]),t._v(" "),t._m(82),t._m(83),t._v(" "),a("p",[t._v("给开发者能力直接退出当前的WebView。")]),t._v(" "),t._m(84),a("blockquote",[a("p",[a("font",{attrs:{size:"2"}},[t._v("小应用需要先引入Blockcity JS-SDK")])],1)]),t._v(" "),t._m(85),t._v(" "),t._m(86),t._v(" "),a("p",[t._v("为开发者提供原生二维码识别能力。")]),t._v(" "),t._m(87),t._v(" "),a("p",[t._v("引入JS-SDK，直接调用即可")]),t._v(" "),t._m(88),t._v(" "),a("p",[t._v("无")]),t._v(" "),t._m(89),t._v(" "),t._m(90),t._v(" "),t._m(91),t._v(" "),a("p",[t._v("通过 "),a("a",{attrs:{href:"https://unpkg.com/blockcity-js-sdk/",target:"_blank",rel:"noopener noreferrer"}},[t._v("unpkg.com/blockcity-js-sdk"),a("OutboundLink")],1),t._v(" 可以看到 Blockcity JS-SDK 最新版本的资源，也可以切换版本选择需要的资源，在页面上引入 js 文件即可开始使用：")]),t._v(" "),t._m(92),t._m(93),t._v(" "),a("p",[t._v("推荐使用 npm 来安装，享受生态圈和工具带来的便利，更好地和 webpack 配合使用。")]),t._v(" "),t._m(94),a("p",[t._v("npm使用")]),t._v(" "),t._m(95),t._m(96),t._v(" "),a("p",[t._v("唤起二维码扫一扫。")]),t._v(" "),t._m(97),a("blockquote",[a("p",[a("font",{attrs:{size:"2"}},[t._v("小应用需要先引入Blockcity JS-SDK")])],1)]),t._v(" "),t._m(98),t._v(" "),t._m(99),t._v(" "),a("p",[t._v("为开发者提供自定义内容分享的能力。")]),t._v(" "),t._m(100),t._v(" "),a("p",[t._v("引入JS-SDK，直接调用即可")]),t._v(" "),t._m(101),t._v(" "),a("p",[t._v("无")]),t._v(" "),t._m(102),t._v(" "),t._m(103),t._v(" "),t._m(104),t._v(" "),a("p",[t._v("通过 "),a("a",{attrs:{href:"https://unpkg.com/blockcity-js-sdk/",target:"_blank",rel:"noopener noreferrer"}},[t._v("unpkg.com/blockcity-js-sdk"),a("OutboundLink")],1),t._v(" 可以看到 Blockcity JS-SDK 最新版本的资源，也可以切换版本选择需要的资源，在页面上引入 js 文件即可开始使用：")]),t._v(" "),t._m(105),t._m(106),t._v(" "),a("p",[t._v("推荐使用 npm 来安装，享受生态圈和工具带来的便利，更好地和 webpack 配合使用。")]),t._v(" "),t._m(107),a("p",[t._v("npm使用")]),t._v(" "),t._m(108),t._m(109),t._v(" "),a("p",[t._v("配置分享标题、描述、缩略图、URL。")]),t._v(" "),t._m(110),a("blockquote",[a("p",[a("font",{attrs:{size:"2"}},[t._v("小应用需要先引入Blockcity JS-SDK")])],1)])])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"开放能力"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开放能力","aria-hidden":"true"}},[this._v("#")]),this._v(" 开放能力")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"gid授权"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gid授权","aria-hidden":"true"}},[this._v("#")]),this._v(" GID授权")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"功能介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#功能介绍","aria-hidden":"true"}},[this._v("#")]),this._v(" 功能介绍")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_1-1-应用场景"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-应用场景","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.1 应用场景")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"获取基本信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#获取基本信息","aria-hidden":"true"}},[this._v("#")]),this._v(" 获取基本信息")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"/blockcity/img/d-5-1.png",alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_1-2-准入条件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-准入条件","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.2 准入条件")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_1-3-计费模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-计费模式","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.3 计费模式")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"接入指引"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#接入指引","aria-hidden":"true"}},[this._v("#")]),this._v(" 接入指引")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-1-开发准备"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-开发准备","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.1 开发准备")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"获取小应用appid"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#获取小应用appid","aria-hidden":"true"}},[this._v("#")]),this._v(" 获取小应用APPID")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"/blockcity/img/d-3-3.png",alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-2-技术接入"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-技术接入","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.2 技术接入")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-2-1-oauth2-0授权流程图"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-1-oauth2-0授权流程图","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.2.1 Oauth2.0授权流程图")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"/blockcity/img/d-5-2.png",alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-2-2-主流程说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-2-主流程说明","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.2.2 主流程说明")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("第一步：登录状态检测")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("第二步：小应用获取授权code")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("沙箱环境地址：https://sandbox.blockcity.gxb.io/#/oauth/authorize?response_type=code&client_id=&redirect_uri=https%3A%2F%2Fxxx&state=\n\n正式环境地址：https://blockcity.gxb.io/#/oauth/authorize?response_type=code&client_id=&redirect_uri=https%3A%2F%2Fxxx&state=\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("字段")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("是否必选")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("response_type")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("是")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("授权类型 ，值为code")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("client_id")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("是")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("等同于appid，创建应用时获得")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("redirect_uri")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("是")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("回调地址，在用户授权后应用会跳转至redirect_uri，"),a("strong",[t._v("务必对地址进行urlencode。")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("state")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("维持应用的状态，传入值与返回值保持一致")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("https://xxx?code=124124&state=\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("第三步：小应用服务端获取access_token")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("第四步：小应用服务端签名获取GID信息")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("第五步：小应用客户端保存登录信息")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("用户授权完成后，需要在小应用客户端维护这个用户的登录状态,可以"),s("strong",[this._v("存localstorage")]),this._v("能保持更长的登录状态，不要存cookie，容易丢失，当登录状态失效时需触发重新授权。")]),this._v(" "),s("li",[this._v("access_token的有效期为30天，刷新再延长30天，当access_token失效时，请重新授权。")]),this._v(" "),s("li",[this._v("另外当用户登出布洛克城时，布洛克城会失效用户对应用的授权access_token，所以判断localstorage的登录信息的同时，查询用户基本信息接口验证access_token有效性。避免用户登出后换个手机号登录，应用内的登录状态还是之前一个账号的情况。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"数据api列表"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据api列表","aria-hidden":"true"}},[this._v("#")]),this._v(" 数据API列表")])},function(){var t=this.$createElement,s=this._self._c||t;return s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[this._v("接口名称")]),this._v(" "),s("th",{staticStyle:{"text-align":"left"}},[this._v("描述")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"补充说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#补充说明","aria-hidden":"true"}},[this._v("#")]),this._v(" 补充说明")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"blockpay支付"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#blockpay支付","aria-hidden":"true"}},[this._v("#")]),this._v(" BlockPay支付")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"功能介绍-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#功能介绍-2","aria-hidden":"true"}},[this._v("#")]),this._v(" 功能介绍")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_1-1-功能流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-功能流程","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.1 功能流程")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"/blockcity/img/d-5-3.png",alt:"img"}}),this._v(" "),s("img",{attrs:{src:"/blockcity/img/d-5-4.png",alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"/blockcity/img/d-5-5.png",alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"/blockcity/img/d-5-6.png",alt:"img"}}),this._v(" "),s("img",{attrs:{src:"/blockcity/img/d-5-7.png",alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"/blockcity/img/d-5-8.png",alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_1-2-准入条件-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-准入条件-2","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.2 准入条件")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_1-3-计费模式-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-计费模式-2","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.3 计费模式")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"接入指引-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#接入指引-2","aria-hidden":"true"}},[this._v("#")]),this._v(" 接入指引")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-1-开发准备-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-开发准备-2","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.1 开发准备")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-1-1-获取小应用appid"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1-获取小应用appid","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.1.1 获取小应用APPID")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"/blockcity/img/d-3-3.png",alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-1-2-上传应用公钥"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-2-上传应用公钥","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.1.2 上传应用公钥")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"/blockcity/img/d-3-5.png",alt:"img"}})])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[t._v("MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm8MBCBTrNJWGyyA9W7aW\njuY6j"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("APar4ZCkGkuJCU6TdRiYgeE4X1pU"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("V8KV1j2xDmO3aaUSx8Qwrofmue3QK\nCx8PD3e6Bgw"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("IjDBIgfOXp1wygTzfFLWu"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("l2jXs1JBV6jvekCjT7luZQrB9hSTgg\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("tZ44"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("ZQFkilRdwdsL1t9ajeAYa61YoYyCe"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nitLJqAXfwlvKrVyaot8q8cd"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("f0X\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("26")]),t._v("SxWtro3hLHvuyTmsu"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("ihmbotWw64bBI9dmklGziHJXThNr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("pyjzKgSz4fzMdyl\nuATOTMpL2j0U6sFlI1hfhvNMKuHOaIYniP4zFEPs"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("tw5fZrHMVnGn6V8LFj5kDP\nBQIDAQAB\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-1-3-引入blockcity-js-sdk"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-3-引入blockcity-js-sdk","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.1.3 引入Blockcity JS-SDK")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"cdn引入"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cdn引入","aria-hidden":"true"}},[this._v("#")]),this._v(" CDN引入")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script src"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"//unpkg.com/blockcity-js-sdk/dist/blockcity-js-sdk.min.js"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"npm安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#npm安装","aria-hidden":"true"}},[this._v("#")]),this._v(" NPM安装")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[this._v("npm")]),this._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("install")]),this._v(" blockcity-js-sdk -save\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[this._v("import")]),this._v(" BlockCity "),s("span",{pre:!0,attrs:{class:"token keyword"}},[this._v("from")]),this._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[this._v("'blockcity-js-sdk'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v(";")]),this._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-2-接入blockpay支付"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-接入blockpay支付","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.2 接入BlockPay支付")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"blockpay支付调用流程图"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#blockpay支付调用流程图","aria-hidden":"true"}},[this._v("#")]),this._v(" BlockPay支付调用流程图")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"/blockcity/img/d-5-9.jpg",alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"主要步骤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#主要步骤","aria-hidden":"true"}},[this._v("#")]),this._v(" 主要步骤")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("第一步：发起支付")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("第二步：预创建支付")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("第三步：唤起收银台")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("BlockCity"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("choosePay")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    tradeNo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v("\n    success"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'支付成功'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    fail"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'支付失败：'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    cancel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'取消支付'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("第四步：支付回调")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("返回参数：")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("是否必须")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("appId")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("是")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("应用id")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("tradeNo")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("是")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("支付订单号")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("outTradeNo")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("是")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("商户唯一订单号")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("paySuccess")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("boolean")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("是")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("是否支付成功")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("callbackParams")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("预创建时商户传入的参数")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("sign")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("是")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v('回调签名，签名方式：RSA("appId=&outTradeNo=&paySuccess=&tradeNo=","公钥")')])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("校验签名示例")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[t._v("        PayCallBackParam param "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PayCallBackParam")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        param"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAppId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"appId"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        param"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setOutTradeNo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"outTradeNo"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        param"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setPaySuccess")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        param"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTradeNo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tradeNo"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        param"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setSign")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"回调签名"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//组装签名体")]),t._v("\n        StringBuilder builder "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StringBuilder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        builder"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("append")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"appId="')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("append")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("param"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAppId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("append")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"&outTradeNo="')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("append")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("param"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getOutTradeNo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("append")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"&paySuccess="')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("append")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("param"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("isPaySuccess")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("append")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"&tradeNo="')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("append")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("param"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTradeNo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("RsaSignature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rsaDecrypt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("param"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSign")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"私钥"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("equals")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("builder"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//签名通过")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("代码下载")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("验证数据的正确性")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("回调JSON请求示例：")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"appId"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"应用id"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"tradeNo"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"支付订单号"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"outTradeNo"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"商户唯一订单号"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"paySuccess"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"callbackParams"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"根据预创建时传入的值一模一样返回"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"sign"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"返回签名"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("回调接口返回要求：")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"success"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"api列表"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#api列表","aria-hidden":"true"}},[this._v("#")]),this._v(" API列表")])},function(){var t=this.$createElement,s=this._self._c||t;return s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[this._v("接口名称")]),this._v(" "),s("th",{staticStyle:{"text-align":"left"}},[this._v("描述")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"补充说明-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#补充说明-2","aria-hidden":"true"}},[this._v("#")]),this._v(" 补充说明")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"小应用关闭"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#小应用关闭","aria-hidden":"true"}},[this._v("#")]),this._v(" 小应用关闭")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"功能介绍-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#功能介绍-3","aria-hidden":"true"}},[this._v("#")]),this._v(" 功能介绍")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_1-1-功能流程-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-功能流程-2","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.1 功能流程")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_1-2-准入条件-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-准入条件-3","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.2 准入条件")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"接入指引-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#接入指引-3","aria-hidden":"true"}},[this._v("#")]),this._v(" 接入指引")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-1-开发准备-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-开发准备-3","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.1 开发准备")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"cdn引入-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cdn引入-2","aria-hidden":"true"}},[this._v("#")]),this._v(" CDN引入")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script src"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"//unpkg.com/blockcity-js-sdk/dist/blockcity-js-sdk.min.js"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"npm安装-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#npm安装-2","aria-hidden":"true"}},[this._v("#")]),this._v(" NPM安装")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[this._v("npm")]),this._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("install")]),this._v(" blockcity-js-sdk -save\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[this._v("import")]),this._v(" BlockCity "),s("span",{pre:!0,attrs:{class:"token keyword"}},[this._v("from")]),this._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[this._v("'blockcity-js-sdk'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v(";")]),this._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-2-功能接入"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-功能接入","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.2 功能接入")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[this._v("BlockCity"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("closeWindow")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v(";")]),this._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"扫一扫"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#扫一扫","aria-hidden":"true"}},[this._v("#")]),this._v(" 扫一扫")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"功能介绍-4"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#功能介绍-4","aria-hidden":"true"}},[this._v("#")]),this._v(" 功能介绍")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_1-1-功能流程-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-功能流程-3","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.1 功能流程")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_1-2-准入条件-4"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-准入条件-4","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.2 准入条件")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"接入指引-4"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#接入指引-4","aria-hidden":"true"}},[this._v("#")]),this._v(" 接入指引")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-1-开发准备-4"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-开发准备-4","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.1 开发准备")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"cdn引入-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cdn引入-3","aria-hidden":"true"}},[this._v("#")]),this._v(" CDN引入")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script src"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"//unpkg.com/blockcity-js-sdk/dist/blockcity-js-sdk.min.js"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"npm安装-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#npm安装-3","aria-hidden":"true"}},[this._v("#")]),this._v(" NPM安装")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[this._v("npm")]),this._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("install")]),this._v(" blockcity-js-sdk -save\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[this._v("import")]),this._v(" BlockCity "),s("span",{pre:!0,attrs:{class:"token keyword"}},[this._v("from")]),this._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[this._v("'blockcity-js-sdk'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v(";")]),this._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-2-功能接入-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-功能接入-2","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.2 功能接入")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("BlockCity"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("qrScan")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"自定义分享"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自定义分享","aria-hidden":"true"}},[this._v("#")]),this._v(" 自定义分享")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"功能介绍-5"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#功能介绍-5","aria-hidden":"true"}},[this._v("#")]),this._v(" 功能介绍")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_1-1-功能流程-4"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-功能流程-4","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.1 功能流程")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_1-2-准入条件-5"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-准入条件-5","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.2 准入条件")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"接入指引-5"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#接入指引-5","aria-hidden":"true"}},[this._v("#")]),this._v(" 接入指引")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-1-开发准备-5"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-开发准备-5","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.1 开发准备")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"cdn引入-4"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cdn引入-4","aria-hidden":"true"}},[this._v("#")]),this._v(" CDN引入")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script src"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"//unpkg.com/blockcity-js-sdk/dist/blockcity-js-sdk.min.js"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"npm安装-4"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#npm安装-4","aria-hidden":"true"}},[this._v("#")]),this._v(" NPM安装")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[this._v("npm")]),this._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("install")]),this._v(" blockcity-js-sdk -save\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[this._v("import")]),this._v(" BlockCity "),s("span",{pre:!0,attrs:{class:"token keyword"}},[this._v("from")]),this._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[this._v("'blockcity-js-sdk'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v(";")]),this._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-2-功能接入-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-功能接入-3","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.2 功能接入")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("BlockCity"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("shareConfig")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    title"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    shareDes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    thumbUrl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    success"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'配置成功'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    fail"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'配置失败：'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])}],!1,null,null,null);n.options.__file="capacity.md";s.default=n.exports}}]);